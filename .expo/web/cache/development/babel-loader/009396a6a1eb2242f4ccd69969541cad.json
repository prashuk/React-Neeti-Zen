{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"/Users/prashuk/Desktop/Github/Neeti-Zen/screens/Suggest.js\";\nimport React from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { Block, Button, Text, Input } from \"galio-framework\";\nimport * as firebase from \"firebase\";\n\nvar _Dimensions$get = Dimensions.get(\"screen\"),\n    width = _Dimensions$get.width;\n\nvar Suggest = function (_React$Component) {\n  _inherits(Suggest, _React$Component);\n\n  function Suggest(props) {\n    var _this;\n\n    _classCallCheck(this, Suggest);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Suggest).call(this, props));\n    _this.state = {\n      complain: \"\"\n    };\n\n    _this.getLastTsubmitBtnPressedicket = function () {\n      var today = new Date();\n      var dd = String(today.getDate()).padStart(2, \"0\");\n      var mm = String(today.getMonth() + 1).padStart(2, \"0\");\n      var yyyy = today.getFullYear();\n      today = mm + \"/\" + dd + \"/\" + yyyy;\n      var postData = {\n        date: today,\n        complain: _this.state.complain\n      };\n      var ticketNumberDatabase;\n      firebase.database().ref(\"ticket/ticket/\").on(\"value\", function (snapshot) {\n        ticketNumberDatabase = parseInt(snapshot.val());\n        ticketNumberDatabase = ticketNumberDatabase + 1;\n      });\n      var updates = {};\n      updates[\"users/\" + global.User.user.uid + \"/complaints/suggest/\" + ticketNumberDatabase] = postData;\n      updates[\"ticket/ticket\"] = ticketNumberDatabase;\n\n      try {\n        firebase.database().ref().update(updates).then(Alert.alert(\"Complain Submitted\", \"\", [{\n          text: \"OK\",\n          onPress: function onPress() {\n            _this.props.navigation.goBack();\n          }\n        }], {\n          cancelable: false\n        })).catch(function (error) {\n          var errorCode = error.code;\n          var errorMessage = error.message;\n          console.log(errorCode);\n          console.log(errorMessage);\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Suggest, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(ScrollView, {\n        showsVerticalScrollIndicator: false,\n        contentContainerStyle: {\n          paddingBottom: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        }\n      }, React.createElement(Block, {\n        flex: true,\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        }\n      }, React.createElement(Block, {\n        style: styles.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        }\n      }, React.createElement(Block, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        }\n      }, React.createElement(Text, {\n        color: \"#4f3961\",\n        size: 25,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        }\n      }, \"Fill Notes\")), React.createElement(Block, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        }\n      }, React.createElement(Input, {\n        multiline: true,\n        style: {\n          height: 150\n        },\n        placeholder: \"Notes (Describe invitation in 100 words)\",\n        onChangeText: function onChangeText(text) {\n          _this2.setState({\n            complain: text\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        }\n      }))), React.createElement(Block, {\n        center: true,\n        style: {\n          paddingBottom: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        }\n      }, React.createElement(Button, {\n        style: styles.button,\n        color: \"#4f3961\",\n        onPress: this.submitBtnPressed,\n        textStyle: {\n          color: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        }\n      }, \"SUBMIT\"))));\n    }\n  }]);\n\n  return Suggest;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"#fff2ff\"\n  },\n  button: {\n    width: width - 40,\n    height: 50,\n    shadowRadius: 10,\n    shadowOpacity: 0,\n    marginBottom: 10\n  },\n  title: {\n    marginTop: 20,\n    marginRight: 30,\n    marginLeft: 30\n  }\n});\nexport default Suggest;","map":{"version":3,"sources":["/Users/prashuk/Desktop/Github/Neeti-Zen/screens/Suggest.js"],"names":["React","Block","Button","Text","Input","firebase","Dimensions","get","width","Suggest","props","state","complain","getLastTsubmitBtnPressedicket","today","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","postData","date","ticketNumberDatabase","database","ref","on","snapshot","parseInt","val","updates","global","User","user","uid","update","then","Alert","alert","text","onPress","navigation","goBack","cancelable","catch","error","errorCode","code","errorMessage","message","console","log","paddingBottom","styles","container","title","height","setState","button","submitBtnPressed","color","Component","StyleSheet","create","backgroundColor","shadowRadius","shadowOpacity","marginBottom","marginTop","marginRight","marginLeft"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { StyleSheet, Dimensions, ScrollView, Alert } from \"react-native\";\nimport { Block, Button, Text, Input } from \"galio-framework\";\nimport * as firebase from \"firebase\";\n\nconst { width } = Dimensions.get(\"screen\");\n\nclass Suggest extends React.Component {\n  state = {\n    complain: \"\"\n  };\n\n  constructor(props) {\n    super(props);\n  }\n\n  getLastTsubmitBtnPressedicket = () => {\n    var today = new Date();\n    var dd = String(today.getDate()).padStart(2, \"0\");\n    var mm = String(today.getMonth() + 1).padStart(2, \"0\");\n    var yyyy = today.getFullYear();\n    today = mm + \"/\" + dd + \"/\" + yyyy;\n\n    var postData = {\n      date: today,\n      complain: this.state.complain\n    };\n\n    let ticketNumberDatabase;\n\n    firebase\n      .database()\n      .ref(\"ticket/ticket/\")\n      .on(\"value\", snapshot => {\n        ticketNumberDatabase = parseInt(snapshot.val());\n        ticketNumberDatabase = ticketNumberDatabase + 1;\n      });\n\n    var updates = {};\n    updates[\n      \"users/\" +\n        global.User.user.uid +\n        \"/complaints/suggest/\" +\n        ticketNumberDatabase\n    ] = postData;\n    updates[\"ticket/ticket\"] = ticketNumberDatabase;\n\n    try {\n      firebase\n        .database()\n        .ref()\n        .update(updates)\n        .then(\n          Alert.alert(\n            \"Complain Submitted\",\n            \"\",\n            [\n              {\n                text: \"OK\",\n                onPress: () => {\n                  this.props.navigation.goBack();\n                }\n              }\n            ],\n            { cancelable: false }\n          )\n        )\n        .catch(function(error) {\n          var errorCode = error.code;\n          var errorMessage = error.message;\n          console.log(errorCode);\n          console.log(errorMessage);\n        });\n    } catch (error) {\n      console.log(error);\n    }\n    //       // firebase\n    //       //   .database()\n    //       //   .ref(\"ticket/\")\n    //       //   .set({\n    //       //     ticket: ticketNumberDatabase\n    //       //   })\n    //       //   .then(() => {\n    //       //     console.log(\"Ticket Number Updated!\");\n    //       //   })\n    //       //   .catch(function(error) {\n    //       //     console.log(error);\n    //       //   });\n\n    //       try {\n    //         firebase\n    //           .database()\n    //           .ref(\n    //             \"users/\" +\n    //               global.User.user.uid +\n    //               \"/complaints/suggest/\" +\n    //               ticketNumberDatabase\n    //           )\n    //           .set({\n    //             date: today,\n    //             complain: this.state.complain\n    //           })\n    //           .then(() => {\n    //             console.log(\"Inserted!\");\n\n    //             Alert.alert(\n    //               \"Complain Submitted\",\n    //               \"\",\n    //               [\n    //                 {\n    //                   text: \"OK\",\n    //                   onPress: () => {\n    //                     var updates = {};\n    //                     updates[\"ticket/ticket/\"] = ticketNumberDatabase;\n    //                     firebase\n    //                       .database()\n    //                       .ref()\n    //                       .update(updates);\n    //                     this.props.navigation.goBack();\n    //                   }\n    //                 }\n    //               ],\n    //               { cancelable: false }\n    //             );\n    //           })\n    //           .catch(function(error) {\n    //             var errorCode = error.code;\n    //             var errorMessage = error.message;\n    //             console.log(errorCode);\n    //             console.log(errorMessage);\n    //           });\n    //       } catch (error) {\n    //         console.log(error);\n    //       }\n    //     });\n  };\n\n  render() {\n    return (\n      <ScrollView\n        showsVerticalScrollIndicator={false}\n        contentContainerStyle={{ paddingBottom: 0 }}\n      >\n        <Block flex style={styles.container}>\n          <Block style={styles.title}>\n            <Block>\n              <Text color=\"#4f3961\" size={25}>\n                Fill Notes\n              </Text>\n            </Block>\n            <Block>\n              <Input\n                multiline\n                style={{ height: 150 }}\n                placeholder=\"Notes (Describe invitation in 100 words)\"\n                onChangeText={text => {\n                  this.setState({ complain: text });\n                }}\n              ></Input>\n            </Block>\n          </Block>\n          <Block center style={{ paddingBottom: 10 }}>\n            <Button\n              style={styles.button}\n              color=\"#4f3961\"\n              onPress={this.submitBtnPressed}\n              textStyle={{ color: \"white\" }}\n            >\n              SUBMIT\n            </Button>\n          </Block>\n        </Block>\n      </ScrollView>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"#fff2ff\"\n  },\n  button: {\n    width: width - 40,\n    height: 50,\n    shadowRadius: 10,\n    shadowOpacity: 0,\n    marginBottom: 10\n  },\n  title: {\n    marginTop: 20,\n    marginRight: 30,\n    marginLeft: 30\n  }\n});\n\nexport default Suggest;\n"]},"metadata":{},"sourceType":"module"}